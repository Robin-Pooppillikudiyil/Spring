
<!-- saved from url=(0177)file:///D:/spring/4.spring-hibernate-tutorial/14%20Spring%20MVC%20-%20Form%20Tags%20and%20Data%20Binding/132%20FAQ%20Use%20properties%20file%20to%20load%20country%20options.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                <link href="./132 FAQ Use properties file to load country options_files/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
                <title>132 FAQ Use properties file to load country options</title>
                </head>
                <body>
                <div class="container">
                <div class="row">
                <div class="col-md-10 col-md-offset-1">
                    <p class="lead"></p><p><strong>Question:&nbsp;</strong></p>

<p>How to use properties file to load country options</p>

























<p><strong>Answer:</strong></p>

























<p>This solution will show you how to place the country options in a properties file. The values will no longer be hard coded in the Java code.</p>

























<p><strong>1. Create a properties file to hold the countries. It will be a name value pair. &nbsp;Country code is name. Country name is the value.</strong></p>

























<p>New text file: &nbsp;WEB-INF/countries.properties</p>

























<pre class="prettyprint linenums">BR=Brazil 
FR=France 
CO=Colombia 
IN=India</pre>













































<p>Note the location of the properties file is very important. It must be stored in WEB-INF/countries.properties</p>

























<p><strong>2. Update header section for Spring config file</strong>
</p>

























<p>We are going to use a new set of Spring tags for &lt;util&gt;. As a result, you need to update the header information in the Spring config file.</p>

























<p>File: spring-mvc-dmo-servlet.xml</p>

























<p>Remove the previous header and add this.</p>

























<pre class="prettyprint linenums">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" 
        xmlns:context="http://www.springframework.org/schema/context" 
        xmlns:mvc="http://www.springframework.org/schema/mvc" 
        xmlns:util="http://www.springframework.org/schema/util" 
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:schemaLocation="
            http://www.springframework.org/schema/beans     
            http://www.springframework.org/schema/beans/spring-beans.xsd     
            http://www.springframework.org/schema/context     
            http://www.springframework.org/schema/context/spring-context.xsd     
            http://www.springframework.org/schema/mvc         
            http://www.springframework.org/schema/mvc/spring-mvc.xsd 
            http://www.springframework.org/schema/util     
            http://www.springframework.org/schema/util/spring-util.xsd"&gt;
</pre>













































<p><strong>3. Load the country options properties file in the Spring config file. Bean id: countryOptions</strong></p>

























<p>File: spring-mvc-dmo-servlet.xml</p>

























<p>Add the following lines:</p>

























<p><code>&lt;util:properties  id="countryOptions" location="classpath:../countries.properties" /&gt;</code>&nbsp;</p>

























<p><strong>4. Inject the properties values into your Spring Controller: StudentController.java</strong></p>

























<pre class="prettyprint linenums">@Value("#{countryOptions}") 
private Map&lt;String, String&gt; countryOptions;</pre>







































<p><strong>5. Add the country options to the Spring MVC model. Attribute name: theCountryOptions</strong></p>

























<pre class="prettyprint linenums">@RequestMapping("/showForm") 
public String showForm(Model theModel) { 

    // create a student object Student 
    Student theStudent = new Student();
 
    // add student object to the model 
    theModel.addAttribute("student", theStudent); 

    // add the country options to the model 
    theModel.addAttribute("theCountryOptions", countryOptions); 

    return "student-form"; 
}</pre>





































<p><strong>6. Update the JSP page, student-form.jsp, to use the new model attribute for the drop-down list: theCountryOptions</strong></p>

























<pre class="prettyprint linenums">&lt;form:select path="country"&gt; 
 &lt;form:options items="${theCountryOptions}" /&gt;
&lt;/form:select&gt;</pre>

































<p><strong>7. Remove all references to country option from your Student.java. &nbsp;</strong></p>







<p>---</p>

<p><strong>DOWNLOAD FULL SOURCE CODE</strong></p>

<p>You can download entire code from here:</p>



<p>- <a href="https://github.com/Robin-Pooppillikudiyil/spring/tree/master/3.spring%20mvc" rel="nofollow">More Spring MVC Topics</a>
</p>

<p><br></p><p></p>
                </div>
                </div>
                </div>
                <script src="./132 FAQ Use properties file to load country options_files/bootstrap.min.js.download" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
                
                </body></html>